!function n(a,o,c){function l(e,t){if(!o[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(r)return r(e,!0);throw new Error("Cannot find module '"+e+"'")}var s=o[e]={exports:{}};a[e][0].call(s.exports,function(t){var i=a[e][1][t];return l(i||t)},s,s.exports,n,a,o,c)}return o[e].exports}for(var r="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,i,e){i.exports={name:"sidenav",version:"2.3.0",description:"Plugin for output side navigation on some pages",main:"src/index.js",scripts:{gulp:"gulp default",zat:"cd demo && zat theme preview",start:"run-p gulp zat",build:"gulp build"},repository:{type:"git",url:"git+https://gitlab.com/lotusthemes/sidenav.git"},keywords:["sidenav"],author:"Aleksandr Zoryn",license:"ISC",bugs:{url:"https://gitlab.com/lotusthemes/sidenav/issues"},homepage:"https://gitlab.com/lotusthemes/sidenav#README",devDependencies:{"babel-core":"^6.26.0","babel-preset-env":"^1.6.1","babel-preset-es2015":"^6.24.1",babelify:"^8.0.0","browser-sync":"^2.18.13","css-mqpacker":"^6.0.2",del:"^3.0.0",eslint:"^5.0.1","eslint-config-recommended":"^3.0.0",gulp:"^3.9.1","gulp-autoprefixer":"^5.0.0","gulp-browserify":"^0.5.1","gulp-clean-css":"^3.9.4","gulp-plumber":"^1.1.0","gulp-postcss":"^7.0.1","gulp-rename":"^1.2.2","gulp-sass":"^4.0.1","gulp-uglify":"^3.0.0","gulp-watch":"^4.3.11","postcss-merge-rules":"^4.0.0","run-sequence":"^2.2.0"}}},{}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}(),a=t("./constants"),o=t("./utils");var c={content:["articles","sections","categories"],animation:"accordion",animationDuration:300,homeTitle:"Home",backTitle:"",autoHeightAnimation:!1,mobileBreakpoint:767,showMobile:!0,buttonText:"Toggle navigation",includeCategories:null,includeSections:null,includeArticles:null,excludeCategories:null,excludeSections:null,excludeArticles:null},n=function(){function n(t,i,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),this.i=t,this.$element=i,this.options=$.extend({},c,e),this.data=s,this.ifRenderCategories=-1!==this.options.content.indexOf("categories"),this.ifRenderSections=-1!==this.options.content.indexOf("sections"),this.ifRenderArticles=-1!==this.options.content.indexOf("articles"),this.state={},this.height=0,this.view="desktop",this.init()}return s(n,[{key:"init",value:function(){this.$wrapper=$('<div class="'+a.CSS_PREFIX+'-container"></div>'),this.$box=$('<div class="'+a.CSS_PREFIX+" "+a.CSS_PREFIX+"_"+this.i+" "+a.CSS_PREFIX+'_init"></div>'),this.initialStates(),"slide"===this.options.animation?(this.$box.addClass(a.CSS_PREFIX+"_slide"),this.initVisibleSlideBlocks()):this.$box.addClass(a.CSS_PREFIX+"_accordion"),this.$element.html(this.$wrapper.html(this.$box[0])[0]),this.options.showMobile&&(this.$button=$('<a href="#" class="btn btn--primary '+a.CSS_PREFIX+'-btn" style="display: none;">'+this.options.buttonText+"</a>"),this.$overlay=$('<div class="'+a.CSS_PREFIX+'-overlay" style="display: none;"></div>'),this.$element.append(this.$overlay[0]),this.$element.append(this.$button[0])),this.renderMenuItems(),this.initVisibleAccordionBlocks()}},{key:"renderMenuItems",value:function(){var t=this.ifRenderCategories?this.getCategoriesTemplate(ApiData.toCategoriesTree(this.data)):this.ifRenderSections?this.getSectionsTemplate(ApiData.toSectionsTree(this.data)):this.getArticlesTemplate(this.data.articles);this.$box.append(t),this.handleToggleMobileView(),"slide"===this.options.animation?(this.autoHeightAnimation(),this.changeBoxHeight(),this.$box.find("span."+a.CSS_PREFIX+"__category-name").on("click",this.handleCategoryClick.bind(this)),this.$box.find("span."+a.CSS_PREFIX+"__section-name").on("click",this.handleSectionClick.bind(this)),this.$box.find("span[data-"+a.CSS_PREFIX+"-back-to-categories]").on("click",this.handleBackToCategoriesClick.bind(this)),this.$box.find("span[data-"+a.CSS_PREFIX+"-back-to-sections]").on("click",this.handleBackToSectionsClick.bind(this)),this.$box.find("span[data-"+a.CSS_PREFIX+"-back-to-prev-sections]").on("click",this.handleBackToPrevSections.bind(this))):(this.$box.find("span."+a.CSS_PREFIX+"__category-name").on("click",this.handleCategorySlideToggleClick.bind(this)),this.$box.find("span."+a.CSS_PREFIX+"__section-name").on("click",this.handleSectionSlideToggleClick.bind(this))),this.options.showMobile&&(this.$button.on("click",this.handleToggleMobileMenu.bind(this)),this.$overlay.on("click",this.handleHideMobileMenu.bind(this))),$(window).on("resize",this.handleToggleMobileView.bind(this))}},{key:"initialStates",value:function(){if(-1!==window.location.pathname.indexOf("/categories/"))this.state={currentPage:"category",activeCategoryId:parseInt(window.location.pathname.replace(a.REG_CATEGORY_ID,"$1"))};else if(-1!==window.location.pathname.indexOf("/sections/"))this.state={currentPage:"section",activeSectionId:[parseInt(window.location.pathname.replace(a.REG_SECTION_ID,"$1"))]},this.ifRenderCategories&&(this.state.activeCategoryId=ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).categories[0].id);else if(-1!==window.location.pathname.indexOf("/articles/")){this.state={currentPage:"article",activeArticleId:parseInt(window.location.pathname.replace(a.REG_ARTICLE_ID,"$1"))};var t=ApiData.filterByArticleId(this.data,this.state.activeArticleId);this.ifRenderCategories&&(this.state.activeCategoryId=t.categories[0].id),this.ifRenderSections&&(this.state.activeSectionId=[t.sections[0].id])}this.pushActiveSections()}},{key:"pushActiveSections",value:function(t){if(this.state.activeSectionId&&this.state.activeSectionId.length){var i=t||ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).sections[0];if(i&&i.parent_section_id){var e=ApiData.filterBySectionId(this.data,i.parent_section_id).sections[0];e&&(this.state.activeSectionId.push(e.id),this.pushActiveSections(e))}}}},{key:"initVisibleSlideBlocks",value:function(){"category"===this.state.currentPage?this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"):"section"===this.state.currentPage?this.isExist("section")&&this.isExist("category")?this.$box.addClass(a.CSS_PREFIX+"_articles-is-active"):this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"):"article"===this.state.currentPage&&(this.isExist("article")&&this.isExist("section")&&this.isExist("category")||this.isExist("section")&&this.isExist("category")?this.$box.addClass(a.CSS_PREFIX+"_articles-is-active"):this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"))}},{key:"initVisibleAccordionBlocks",value:function(){"accordion"===this.options.animation&&this.$box.find(".sidenav__category.is-active > .sidenav__sections-list, .sidenav__section.is-active > .sidenav__articles-list").css("display","block")}},{key:"isExist",value:function(t){var i="category"===t?this.state.activeCategoryId:"section"===t?this.state.activeSectionId:this.state.activeArticleId;if("section"===t){for(var e=0;e<i.length;e++)if((0,o.isExist)(this.options.includeSections,this.options.excludeSections,i[0]))return!0;return!1}return"article"===t?(0,o.isExist)(this.options.includeArticles,this.options.excludeArticles,i):"category"===t&&(0,o.isExist)(this.options.includeCategories,this.options.excludeCategories,i)}},{key:"getCategoriesTemplate",value:function(t){return'\n      <ul class="'+a.CSS_PREFIX+'__categories-list" style="transition: transform '+this.options.animationDuration+'ms">\n        '+(this.options.homeTitle?'\n          <li class="'+a.CSS_PREFIX+"__category "+a.CSS_PREFIX+'__home">\n            <a href="/hc" class="'+a.CSS_PREFIX+'__category-name">'+this.options.homeTitle+"</a>\n          </li>\n        ":"")+"\n        "+t.map(this.getCategoryTemplate.bind(this)).join("")+"\n      </ul>\n    "}},{key:"getCategoryTemplate",value:function(t){return this.options.includeCategories&&-1===this.options.includeCategories.indexOf(t.id)?"":this.options.excludeCategories&&-1!==this.options.excludeCategories.indexOf(t.id)?"":'\n      <li class="'+a.CSS_PREFIX+"__category "+(this.state.activeCategoryId===t.id?a.ACTIVE_CLASS:"")+'"\n        data-'+a.CSS_PREFIX+'-category-id="'+t.id+'">\n        '+(this.ifRenderSections?'<span class="'+a.CSS_PREFIX+'__category-name">'+t.name+"</span>\n            "+this.getSectionsTemplate(t.sections,t):this.ifRenderArticles?'<span class="'+a.CSS_PREFIX+'__category-name">'+t.name+"</span>\n           "+this.getArticlesTemplate(ApiData.filterByCategoryId(this.data,t.id).articles,null,t):'<a href="'+t.html_url+'" class="'+a.CSS_PREFIX+'__category-name">'+t.name+"</a>")+"\n      </li>"}},{key:"getSectionsTemplate",value:function(t,i){return'\n      <ul class="'+a.CSS_PREFIX+'__sections-list" style="transition: transform '+this.options.animationDuration+'ms"\n        '+(i?"data-"+a.CSS_PREFIX+"-parent-"+(i.category_id?"section":"category")+'="'+i.id+'"':"")+">\n        "+(i?"\n          "+("slide"!==this.options.animation?"":'\n          <li class="'+a.CSS_PREFIX+"__section "+a.CSS_PREFIX+'__back">\n            <span data-'+a.CSS_PREFIX+"-back-to-"+(i.category_id?"sections":"categories")+">"+(this.options.backTitle||i.name)+"</span>\n          </li>\n          ")+"\n        ":this.getHomeLinkTemplate())+"\n        "+t.map(this.getSectionTemplate.bind(this)).join("")+"\n      </ul>\n    "}},{key:"getSectionTemplate",value:function(t){return this.options.includeSections&&-1===this.options.includeSections.indexOf(t.id)?"":this.options.excludeSections&&-1!==this.options.excludeSections.indexOf(t.id)?"":'\n      <li class="'+a.CSS_PREFIX+"__section "+(this.state.activeSectionId&&-1!==this.state.activeSectionId.indexOf(t.id)?a.ACTIVE_CLASS:"")+'"\n        data-'+a.CSS_PREFIX+'-section-id="'+t.id+'">\n        '+(this.ifRenderArticles?'<span class="'+a.CSS_PREFIX+'__section-name">'+t.name+"</span>\n         "+this.getArticlesTemplate(t.articles,t):'<a href="'+t.html_url+'" class="'+a.CSS_PREFIX+'__section-name">'+t.name+"</a>")+"\n      </li>\n    "}},{key:"getArticlesTemplate",value:function(t,i,e){var s="";return i&&this.state.activeSectionId&&(s=i.id===this.state.activeSectionId[0]?a.VISIBLE_CLASS+" "+a.ACTIVE_CLASS:""),'\n      <ul class="'+a.CSS_PREFIX+"__articles-list "+s+'" style="transition: transform '+this.options.animationDuration+'ms"\n        '+(e?"data-"+a.CSS_PREFIX+'-parent-category="'+e.id+'"':"")+"\n        "+(i?"data-"+a.CSS_PREFIX+'-parent-section="'+i.id+'"':"")+">\n        "+(e?"\n          "+("slide"!==this.options.animation?"":'\n            <li class="'+a.CSS_PREFIX+"__article "+a.CSS_PREFIX+'__back">\n              <span data-'+a.CSS_PREFIX+"-back-to-categories>"+(this.options.backTitle||e.name)+"</span>\n            </li>\n          ")+"\n        ":i?"\n          "+("slide"!==this.options.animation?"":'\n            <li class="'+a.CSS_PREFIX+"__article "+a.CSS_PREFIX+'__back">\n             <span data-'+a.CSS_PREFIX+"-back-to-"+(i.parent_section_id?"prev-":"")+"sections>"+(this.options.backTitle||i.name)+"</span>\n            </li>\n          ")+"\n        ":this.getHomeLinkTemplate())+"\n        "+(i&&i.sections&&i.sections.length?i.sections.map(this.getSectionTemplate.bind(this)).join(""):"")+"\n        "+t.map(this.getArticleTemplate.bind(this)).join("")+"\n      </ul>\n    "}},{key:"getArticleTemplate",value:function(t){return this.options.includeArticles&&-1===this.options.includeArticles.indexOf(t.id)?"":this.options.excludeArticles&&-1!==this.options.excludeArticles.indexOf(t.id)?"":'\n      <li class="'+a.CSS_PREFIX+"__article "+(this.state.activeArticleId===t.id?a.ACTIVE_CLASS:"")+'" \n        data-'+a.CSS_PREFIX+'-article-id="'+t.id+'">\n        <a href="'+t.html_url+'" class="'+a.CSS_PREFIX+'__article-name">'+t.title+"</a>\n      </li>\n    "}},{key:"getHomeLinkTemplate",value:function(){return this.options.homeTitle?'\n      <li class="'+a.CSS_PREFIX+"__section "+a.CSS_PREFIX+'__home">\n        <a href="/hc" class="'+a.CSS_PREFIX+'__section-name">'+this.options.homeTitle+"</a>\n      </li>\n    ":""}},{key:"categoriesIsActive",value:function(){this.addActiveClass(),this.$box.removeClass("sidenav_articles-is-active sidenav_sections-is-active").addClass("sidenav_categories-is-active")}},{key:"sectionsIsActive",value:function(t){this.addActiveClass(t?"[data-"+a.CSS_PREFIX+'-parent-category="'+t+'"]':null),this.$box.removeClass("sidenav_categories-is-active sidenav_articles-is-active").addClass("sidenav_sections-is-active")}},{key:"articlesIsActive",value:function(t){this.addActiveClass("[data-"+a.CSS_PREFIX+'-parent-section="'+t+'"]'),this.$box.removeClass("sidenav_categories-is-active sidenav_sections-is-active").addClass("sidenav_articles-is-active")}},{key:"addActiveClass",value:function(t){var i=this;t&&this.$box.find(t).addClass(a.ACTIVE_CLASS).addClass(a.VISIBLE_CLASS),"slide"===this.options.animation?(this.changeBoxHeight(t),this.removeActiveClass(t,!0),setTimeout(function(){return i.removeActiveClass(t)},this.options.animationDuration)):this.removeActiveClass(t)}},{key:"removeActiveClass",value:function(t,i){var e=i?a.VISIBLE_CLASS:a.ACTIVE_CLASS;t?this.$box.find("ul."+e).not(t).removeClass(e):this.$box.find("ul."+e).removeClass(e),this.$box.hasClass(a.CSS_PREFIX+"_init")&&this.$box.removeClass(a.CSS_PREFIX+"_init")}},{key:"autoHeightAnimation",value:function(){this.options.autoHeightAnimation&&this.$box.css("transition-duration",this.options.animationDuration+"ms")}},{key:"changeBoxHeight",value:function(t){var i=this,e=t?this.$box.find(t).outerHeight():this.$box.find("."+a.ACTIVE_CLASS).length&&this.$box.hasClass(a.CSS_PREFIX+"_init")?this.$box.find("."+a.ACTIVE_CLASS).last().children("ul").outerHeight()||this.$box.find("."+a.ACTIVE_CLASS).last().closest("ul").outerHeight():this.$box.children("ul").outerHeight();this.options.autoHeightAnimation||!this.height?this.$box.height(e):(this.autoHeightDelay&&clearTimeout(this.autoHeightDelay),this.$box.height(e>this.height?e:this.height),this.autoHeightDelay=setTimeout(function(){i.$box.height(e)},this.options.animationDuration)),this.height=e}},{key:"handleCategoryClick",value:function(t){t.preventDefault();var i=$(t.currentTarget).closest("[data-"+a.CSS_PREFIX+"-category-id]").attr("data-"+a.CSS_PREFIX+"-category-id");this.sectionsIsActive(i)}},{key:"handleSectionClick",value:function(t){t.preventDefault();var i=$(t.currentTarget).closest("[data-"+a.CSS_PREFIX+"-section-id]").attr("data-"+a.CSS_PREFIX+"-section-id");this.articlesIsActive(i)}},{key:"handleBackToCategoriesClick",value:function(t){t.preventDefault(),this.categoriesIsActive()}},{key:"handleBackToSectionsClick",value:function(t){t.preventDefault(),this.ifRenderCategories?this.handleCategoryClick(t):this.sectionsIsActive()}},{key:"handleBackToPrevSections",value:function(t){t.preventDefault();var i=$(t.currentTarget).parents("[data-"+a.CSS_PREFIX+"-section-id]").eq(1).attr("data-"+a.CSS_PREFIX+"-section-id");this.articlesIsActive(i)}},{key:"slideToggle",value:function(t){t.siblings("ul").slideToggle(this.options.animationDuration)}},{key:"handleCategorySlideToggleClick",value:function(t){var i=$(t.currentTarget);this.slideToggle(i),i.closest("."+a.CSS_PREFIX+"__category").toggleClass(a.ACTIVE_CLASS)}},{key:"handleSectionSlideToggleClick",value:function(t){var i=$(t.currentTarget);this.slideToggle(i),i.closest("."+a.CSS_PREFIX+"__section").toggleClass(a.ACTIVE_CLASS)}},{key:"handleToggleMobileView",value:function(){window.innerWidth<=this.options.mobileBreakpoint&&"desktop"===this.view&&(this.view="mobile",this.options.showMobile?(this.$button.show(0),this.$overlay.show(0),this.$wrapper.addClass(a.CSS_PREFIX+"-mobile")):this.$wrapper.hide(0)),window.innerWidth>this.options.mobileBreakpoint&&"mobile"===this.view&&(this.view="desktop",this.options.showMobile?(this.$button.hide(0),this.$overlay.hide(0),this.$wrapper.removeClass(a.CSS_PREFIX+"-mobile")):this.$wrapper.show(0)),"slide"===this.options.animation&&this.changeBoxHeight()}},{key:"handleToggleMobileMenu",value:function(t){t.preventDefault(),this.$overlay.toggleClass("is-active"),this.$wrapper.toggleClass("is-active")}},{key:"handleHideMobileMenu",value:function(t){t.preventDefault(),this.$overlay.removeClass("is-active"),this.$wrapper.removeClass("is-active")}}]),n}();e.default=n},{"./constants":3,"./utils":5}],3:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CSS_PREFIX="sidenav",e.ACTIVE_CLASS="is-active",e.VISIBLE_CLASS="is-visible",e.REG_CATEGORY_ID=/\/hc(?:\/[A-Za-z_-]+)?\/categories\/([0-9]+)[\S]*$/i,e.REG_SECTION_ID=/\/hc(?:\/[A-Za-z_-]+)?\/sections\/([0-9]+)[\S]*$/i,e.REG_ARTICLE_ID=/\/hc(?:\/[A-Za-z_-]+)?\/articles\/([0-9]+)[\S]*$/i},{}],4:[function(t,i,e){"use strict";var s,n=t("./SideNav"),a=(s=n)&&s.__esModule?s:{default:s},o=t("../package");$(window).on("apiDataFetched",function(t,n){$(function(){$("[data-sidenav]").each(function(t,i){var e=$(i),s=e.data("sidenav")||{};new a.default(t,e,s,n)})})}),window.SideNav={version:o.version}},{"../package":1,"./SideNav":2}],5:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isExist=function(t,i,e){return t?-1!==t.indexOf(e):!i||-1===i.indexOf(e)}},{}]},{},[4]);